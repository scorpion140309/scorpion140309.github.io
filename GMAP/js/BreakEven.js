function C_BreakEven(){ this.ary_shamei_= new Array("A社", "B社", "C社");this.ary_kingaku_ = new Array([200,60,60,10,"???","???","???"],[180,50,40,10,"???","???","???"],[220,70,50,10,"???","???","???"]);this.ary_itmes_given_ = new Array("売上","変動費","固定費","営業利益");this.ary_itmes_anser_ = new Array("限界利益率","営業利益率(%)","損益分岐点");this.ary_table_color_ = new Array("#A0A0A0","#FFFFFF");};C_BreakEven.prototype.sttc_MakeQuestion = function(){var ary_base= [ 250, 50, 30, 10 ];var ary_div= [ 11, 10, 10, 11 ];var ary_scale= [ 10, 5, 5, 1 ];var rd;ns_XorShift.Init();var times = 0;for( i = 0; i < times; i ++ ){ns_XorShift.GetRand();}for( i = 0; i < this.ary_itmes_given_.length; i ++ ){for( s = 0; s < this.ary_shamei_.length; s ++ ){rd = ns_XorShift.GetRand() % ary_div[ i ];this.ary_kingaku_[ s ][ i ] = ary_base[ i ] + ary_scale[ i ] * rd;}}};C_BreakEven.prototype.sttc_CalcBreakEven = function(){for( i = 0; i < this.ary_shamei_.length; i ++ ){var genkai_rieki;genkai_rieki = this.ary_kingaku_[ i ][ 0 ] - this.ary_kingaku_[ i ][ 1 ];this.ary_kingaku_[ i ][ 4 ] = Math.round( 1000 * genkai_rieki / this.ary_kingaku_[ i ][ 0 ] ) / 1000;this.ary_kingaku_[ i ][ 5 ] = Math.round( 100000 * this.ary_kingaku_[ i ][ 3 ] / this.ary_kingaku_[ i ][ 0 ] ) / 1000;this.ary_kingaku_[ i ][ 6 ] = Math.round( 1000 * this.ary_kingaku_[ i ][ 2 ] / this.ary_kingaku_[ i ][ 4 ] ) / 1000;}};C_BreakEven.prototype.sttc_DispTable = function(){document.write( "<table border='1' >" );document.write( "<tr align='center' bgcolor='", this.ary_table_color_[0], "'>" );document.write( "<td>" );document.write( "</td>" );for( i = 0; i < this.ary_shamei_.length; i ++ ){document.write( "<td>", this.ary_shamei_[ i ], "</td>"  );}document.write( "</tr>" );for( i = 0; i < this.ary_itmes_given_.length; i ++ ){document.write( "<tr>" );document.write( "<td width='100' bgcolor='", this.ary_table_color_[ 1 ], "' align='center'>" );document.write( this.ary_itmes_given_[ i ] );document.write( "</td>" );for( j = 0; j < this.ary_shamei_.length; j ++ ){document.write( "<td width='100' bgcolor='", this.ary_table_color_[ 1 ], "' align='right'>" );document.write( this.ary_kingaku_[ j ][ i ] );     document.write( "</td>" );}document.write( "</tr>" );}for( i = 0; i < this.ary_itmes_anser_.length; i ++ ){document.write( "<tr>" );document.write( "<td bgcolor='", this.ary_table_color_[ 1 ], "' align='center'>" );document.write( this.ary_itmes_anser_[i] );document.write( "</td>" );for( j = 0; j < this.ary_shamei_.length; j ++ ){document.write( "<td bgcolor='", this.ary_table_color_[ 1 ], "' align='right'>" );document.write( "<div class='test_anser'>" );document.write( this.ary_kingaku_[ j ][ 4+i ] );     document.write( "</div>" );document.write( "</td>" );}document.write( "</tr>" );}document.write( "</table>" );};C_BreakEven.prototype.sttc_DispAnserText = function(){document.write( "<p><div class='test_anser'>" );document.write(" 【 限界利益( = 売上高－変動費 ) 】" );document.write( "</div></p>" );document.write( "<p><div class='test_anser'>" );document.write( "【 限界利益率( = 限界利益 ÷ 売上高 ) 】<br>" );document.write( "売上高が 1 増加したときの、利益の増加分。<br>" );document.write( "</div></p>" );document.write( "<p><div class='test_anser'>" );document.write( "【 営業利益率( = 営業利益 ÷ 売上高 ) 】<br>" );document.write( "売上高と営業利益の比率" );document.write( "</div></p>" );document.write( "<p><div class='test_anser'>" );document.write( "【 損益分岐点( = 固定費 ÷ 限界利益率 ) 】<br>" );document.write( "売上高と費用が等しくなる点。<br>" );document.write( "固定費と固定費以外の利益(限界利益)が等しくなる点。<br>" );document.write( "(", this.ary_shamei_[ 0 ], "の場合)<br>" );document.write( "売上高が 1 増加すると、利益が ", this.ary_kingaku_[ 0 ][ 4 ], " 増える。<br>" );document.write( "固定費 ", this.ary_kingaku_[ 0 ][ 2 ], " を、限界利益率  ", this.ary_kingaku_[ 0 ][ 4 ], " で割ると、利益が ±0 になる売上高(損益分岐点)が算出される。<br>" );document.write( "</div></p>" );} 
C_BreakEven.prototype.Test_BreakEven = function ( flag_anser ){this.sttc_MakeQuestion();if( flag_anser ){this.sttc_CalcBreakEven();}this.sttc_DispTable( flag_anser );if( flag_anser != 0 ){this.sttc_DispAnserText();}};

