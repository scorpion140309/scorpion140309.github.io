function C_CAPM() {this.ary_shamei_ = new Array( "A社", "B社", "C社");this.ary_kingaku_ = new Array([2, 1, 5, "???"], [2, 20, 40, "???"], [100, 50, 20, "???"]);this.ary_itmes_given_ = new Array("rf:無リスク資産","β:個別資産の影響度", "(E(m)-rf):マーケット・リスク・プレミアム","E(i):個別資産の期待利回り");this.ary_table_color_ = new Array("#A0A0A0", "#FFFFFF");this.ary_pos_ans_ = new Array([0, 0, 0, 1], [0, 0, 1, 0], [0, 1, 0, 0]);};C_CAPM.prototype.sttc_MakeQuestion = function() {var ary_base= [1, 0.5, 2.5, 4, 3];var ary_div= [30, 10, 10, 30, 2];var ary_scale= [0.1, 0.1, 0.1, 0.1, 1];var rd;ns_XorShift.Init();var times = 1;for (i = 0; i < times; i++) {ns_XorShift.GetRand();}for (i = 0; i < this.ary_itmes_given_.length; i++) {for (s = 0; s < this.ary_shamei_.length; s++) {rd = ns_XorShift.GetRand() % ary_div[i];this.ary_kingaku_[s][i] = ary_base[i] + ary_scale[i] * rd;this.ary_kingaku_[s][i] = Math.round( 10 * this.ary_kingaku_[s][i] ) / 10;}}for (s = 0; s < this.ary_shamei_.length; s++) {mrp = this.ary_kingaku_[s][0] + this.ary_kingaku_[s][1] * this.ary_kingaku_[s][2];this.ary_kingaku_[s][3] = Math.round( 10 * mrp ) / 10;}};C_CAPM.prototype.sttc_HideCAPM = function() {for (s = 0; s < this.ary_shamei_.length; s++) {for (i = 0; i < this.ary_itmes_given_.length; i++) {if( this.ary_pos_ans_[s][i] ){this.ary_kingaku_[s][i] = "???";}}}};C_CAPM.prototype.sttc_DispTable = function(flag_anser) {document.write("<table border='1' >");document.write("<tr align='center' bgcolor='", this.ary_table_color_[0], "'>");document.write("<td>");document.write("</td>");for (i = 0; i < this.ary_shamei_.length; i++) {document.write("<td>", this.ary_shamei_[i], "</td>");}document.write("</tr>");for (i = 0; i < this.ary_itmes_given_.length; i++) {document.write("<tr>");document.write("<td width='250' align='center' bgcolor='", this.ary_table_color_[1], "'>");document.write(this.ary_itmes_given_[i]);document.write("</td>");for (s = 0; s < this.ary_shamei_.length; s++) {if( this.ary_pos_ans_[s][i] ){document.write("<td width='100' bgcolor='", this.ary_table_color_[1], "' align='right'>");document.write( "<div class='test_anser'>" );document.write(this.ary_kingaku_[s][i]);document.write( "</div>" );document.write("</td>");}else{document.write("<td width='100' bgcolor='", this.ary_table_color_[1], "' align='right'>");document.write(this.ary_kingaku_[s][i]);document.write("</td>");}}document.write("</tr>");}document.write("</table>");};C_CAPM.prototype.sttc_DispAnserText = function() {document.write("<p><div class='test_anser'>");document.write("【 CAPM 】<br>");document.write("rf:無リスク資産の利回り<br>");document.write("β:個別資産の影響度<br>");document.write("R(i):個別資産の期待利回り<br>");document.write("E(m):市場の期待リターン<br>");document.write("(E(m)-rf):マーケット・リスク・プレミアム<br>");document.write("</div></p>");document.write("<p><div class='test_anser'>");document.write("E(i) = rf + β( E(m) - rf )<br>");document.write("</div></p>");};C_CAPM.prototype.Test_CAPM = function(flag_anser) {this.sttc_MakeQuestion();if (flag_anser==0) {this.sttc_HideCAPM();}this.sttc_DispTable(flag_anser);if (flag_anser != 0) {this.sttc_DispAnserText();}};
